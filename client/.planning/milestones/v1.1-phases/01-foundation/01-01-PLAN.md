---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - vite.config.ts
  - tsconfig.json
  - tsconfig.app.json
  - tsconfig.node.json
  - biome.json
  - .nvmrc
  - .gitignore
  - index.html
  - src/main.ts
  - src/App.vue
  - src/assets/main.css
autonomous: true
requirements:
  - INFRA-01
  - INFRA-02

must_haves:
  truths:
    - "Running `npm run dev` starts a Vite dev server at localhost with no build errors"
    - "Running `npx biome check .` reports zero lint or format violations"
    - "Tailwind CSS utility classes are applied in the browser (not unstyled)"
  artifacts:
    - path: "package.json"
      provides: "Project manifest with Vue 3, Vite, Tailwind CSS v4, Biome dependencies"
      contains: "tailwindcss"
    - path: "vite.config.ts"
      provides: "Vite configuration with Vue and Tailwind plugins and @ alias"
      contains: "tailwindcss"
    - path: "biome.json"
      provides: "Biome linter/formatter configuration with Vue support"
      contains: "experimentalFullSupportEnabled"
    - path: "src/assets/main.css"
      provides: "CSS entry point importing Tailwind"
      contains: "@import \"tailwindcss\""
    - path: ".nvmrc"
      provides: "Node version pin"
      contains: "22"
  key_links:
    - from: "vite.config.ts"
      to: "@tailwindcss/vite"
      via: "Vite plugin registration"
      pattern: "tailwindcss\\(\\)"
    - from: "src/main.ts"
      to: "src/assets/main.css"
      via: "CSS import"
      pattern: "import.*main\\.css"
---

<objective>
Scaffold a Vue 3 + Vite + TypeScript project with Tailwind CSS v4 and Biome, producing a clean project skeleton that boots and lints without errors.

Purpose: Establish the project foundation that all subsequent phases build upon. No feature code — just verified tooling.
Output: A running dev server, clean Biome check, and Tailwind-styled app shell.
</objective>

<execution_context>
@/Users/otisz/.claude/get-shit-done/workflows/execute-plan.md
@/Users/otisz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Vue 3 + Vite + TypeScript project with Tailwind CSS v4</name>
  <files>package.json, vite.config.ts, tsconfig.json, tsconfig.app.json, tsconfig.node.json, index.html, src/main.ts, src/App.vue, src/assets/main.css, .nvmrc, .gitignore</files>
  <action>
1. Create `.nvmrc` containing `22` (per locked decision: Node 22 LTS).

2. Scaffold with `npm create vue@latest . -- --ts` in the project root directory. When prompted:
   - TypeScript: Yes
   - JSX: No
   - Vue Router: No (added in Phase 2)
   - Pinia: No (out of scope)
   - Vitest: No (deferred to v1.1)
   - End-to-End Testing: No
   - ESLint: No (Biome replaces it — locked decision)
   - Prettier: No (Biome replaces it — locked decision)
   - Vue DevTools: No

   IMPORTANT: If `npm create vue@latest` requires interactive prompts that cannot be answered non-interactively, use the `--ts` flag or run with appropriate flags. If interactive prompts are unavoidable, answer them as specified above.

3. Install Tailwind CSS v4 with the Vite plugin:
   ```bash
   npm install tailwindcss @tailwindcss/vite
   ```

4. Update `vite.config.ts` to match this exact configuration:
   ```typescript
   import { fileURLToPath, URL } from 'node:url'
   import tailwindcss from '@tailwindcss/vite'
   import vue from '@vitejs/plugin-vue'
   import { defineConfig } from 'vite'

   export default defineConfig({
     plugins: [
       vue(),
       tailwindcss(),
     ],
     resolve: {
       alias: {
         '@': fileURLToPath(new URL('./src', import.meta.url)),
       },
     },
   })
   ```
   Note: The `@` alias is a locked decision — must be configured in both Vite and tsconfig.

5. Replace the contents of `src/assets/main.css` with:
   ```css
   @import "tailwindcss";
   ```
   Do NOT create a `postcss.config.js` — the `@tailwindcss/vite` plugin replaces the PostCSS pipeline. If one was generated by the scaffold, delete it.

6. Delete any scaffold-generated CSS files other than `src/assets/main.css` (e.g., `src/assets/base.css`). Remove their imports from `main.ts` or `App.vue`.

7. Update `src/main.ts` to import only the CSS entry and mount the app:
   ```typescript
   import { createApp } from 'vue'
   import App from './App.vue'
   import './assets/main.css'

   createApp(App).mount('#app')
   ```

8. Replace `src/App.vue` with a minimal shell that proves Tailwind works:
   ```vue
   <script setup lang="ts">
   </script>

   <template>
     <div class="min-h-screen bg-gray-50 flex items-center justify-center">
       <h1 class="text-2xl font-bold text-gray-900">Oktatasi Hivatal</h1>
     </div>
   </template>
   ```
   Uses `<script setup lang="ts">` per locked decision.

9. Delete scaffold-generated example components (e.g., `src/components/HelloWorld.vue`, `src/components/TheWelcome.vue`, `src/components/WelcomeItem.vue`, `src/components/icons/`). These are not needed.

10. Create the project directory structure per locked decision:
    ```
    src/components/   (keep if exists, create if not)
    src/views/        (create empty)
    src/composables/  (create empty)
    src/types/        (create empty)
    src/lib/          (create empty — API layer home per locked decision)
    ```
    Add `.gitkeep` files to empty directories so git tracks them.

11. Verify `tsconfig.app.json` includes the `@` path alias. It should have:
    ```json
    "paths": {
      "@/*": ["./src/*"]
    }
    ```
    If `create-vue` did not generate this, add it under `compilerOptions`.

12. Run `npm install` to ensure all dependencies are resolved.

13. Run `npm run dev` to verify the dev server starts without errors. Kill it after confirming.
  </action>
  <verify>
    <automated>cd /Users/otisz/Projects/oktatasi-hivatal/client && npm run build 2>&1 | tail -5</automated>
  </verify>
  <done>
    - `npm run dev` starts Vite dev server at localhost with zero errors
    - `npm run build` completes without TypeScript or build errors
    - Project structure has `src/lib/`, `src/types/`, `src/composables/`, `src/views/`, `src/components/`
    - `src/assets/main.css` contains `@import "tailwindcss"` and no other Tailwind config files exist
    - `.nvmrc` contains `22`
    - No `postcss.config.js` exists
    - No ESLint or Prettier config files exist
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Biome for linting and formatting with Vue support</name>
  <files>biome.json, package.json</files>
  <action>
1. Install Biome as a dev dependency:
   ```bash
   npm install -D @biomejs/biome
   ```

2. Create `biome.json` at project root with this exact configuration:
   ```json
   {
     "$schema": "https://biomejs.dev/schemas/2.4.4/schema.json",
     "vcs": {
       "enabled": true,
       "clientKind": "git",
       "useIgnoreFile": true
     },
     "files": {
       "ignore": ["node_modules", "dist"]
     },
     "formatter": {
       "enabled": true,
       "indentStyle": "space",
       "indentWidth": 2,
       "lineWidth": 100
     },
     "organizeImports": {
       "enabled": true
     },
     "linter": {
       "enabled": true,
       "rules": {
         "recommended": true
       }
     },
     "javascript": {
       "formatter": {
         "quoteStyle": "single",
         "trailingCommas": "all",
         "semicolons": "asNeeded"
       }
     },
     "html": {
       "experimentalFullSupportEnabled": true,
       "formatter": {
         "enabled": true,
         "indentWidth": 2
       }
     },
     "css": {
       "formatter": {
         "enabled": true
       }
     }
   }
   ```
   Do NOT run `npx biome init` — write the file directly to avoid overwriting with defaults.

3. Add npm scripts to `package.json` for Biome:
   ```json
   "lint": "biome check .",
   "lint:fix": "biome check --fix ."
   ```

4. Run `npx biome check .` on the entire project. If there are violations:
   - Run `npx biome check --fix .` to auto-fix formatting issues
   - For any remaining violations in scaffold-generated code, fix them manually
   - The goal is ZERO violations on the initial scaffold

5. Run `npx biome check .` again to confirm zero violations.

IMPORTANT: Biome's Vue support is experimental (via `html.experimentalFullSupportEnabled`). If false positives appear specifically in `.vue` file templates, add targeted rule overrides in `biome.json` rather than disabling Vue file processing. Document any overrides in the plan summary.
  </action>
  <verify>
    <automated>cd /Users/otisz/Projects/oktatasi-hivatal/client && npx biome check . 2>&1 | tail -5</automated>
  </verify>
  <done>
    - `biome.json` exists at project root with `experimentalFullSupportEnabled: true`
    - `npx biome check .` reports zero violations across all `.ts`, `.vue`, and `.css` files
    - `package.json` has `lint` and `lint:fix` scripts using Biome
    - No ESLint or Prettier configuration files exist anywhere in the project
  </done>
</task>

</tasks>

<verification>
Run all three checks in sequence:

```bash
# 1. Project builds without errors
npm run build

# 2. Biome reports zero violations
npx biome check .

# 3. Dev server starts (verify manually — start and kill)
npm run dev &
sleep 3
kill %1
```

All three must pass with zero errors/violations.
</verification>

<success_criteria>
1. `npm run dev` serves the app at localhost with no build errors
2. `npm run build` completes with no TypeScript or Vite errors
3. `npx biome check .` reports zero lint or format violations on all project files
4. Tailwind CSS utility classes render correctly in the browser (text styled, background applied)
5. `.nvmrc` pins Node 22 LTS
6. Project structure matches locked decision: `src/lib/`, `src/types/`, `src/composables/`, `src/views/`, `src/components/`
7. No ESLint, Prettier, or PostCSS configuration files exist
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
