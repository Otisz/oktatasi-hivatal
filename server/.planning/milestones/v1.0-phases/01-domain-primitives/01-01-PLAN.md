---
phase: 01-domain-primitives
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/Enums/SubjectName.php
  - app/Enums/ExamLevel.php
  - app/Enums/LanguageCertificateType.php
autonomous: true
requirements:
  - DOM-01
  - DOM-02
  - DOM-03

must_haves:
  truths:
    - "SubjectName enum has exactly 13 cases with correct accented Hungarian backing values"
    - "SubjectName::globallyMandatory() returns HungarianLanguageAndLiterature, History, Mathematics"
    - "SubjectName::isLanguage() returns true for the 6 foreign language subjects and false for all others"
    - "ExamLevel::Intermediate has backing value 'közép' and ExamLevel::Advanced has backing value 'emelt'"
    - "LanguageCertificateType::UpperIntermediate->points() returns 28 and LanguageCertificateType::Advanced->points() returns 40"
  artifacts:
    - path: "app/Enums/SubjectName.php"
      provides: "13-case backed string enum with globallyMandatory() and isLanguage() helpers"
      contains: "enum SubjectName: string"
    - path: "app/Enums/ExamLevel.php"
      provides: "2-case backed string enum for exam levels"
      contains: "enum ExamLevel: string"
    - path: "app/Enums/LanguageCertificateType.php"
      provides: "2-case backed string enum with points() method"
      contains: "enum LanguageCertificateType: string"
  key_links:
    - from: "app/Enums/SubjectName.php"
      to: "SubjectName::from('matematika')"
      via: "PHP backed enum from() method"
      pattern: "SubjectName::from"
    - from: "app/Enums/LanguageCertificateType.php"
      to: "points() return values"
      via: "match expression mapping cases to integer points"
      pattern: "match.*self::UpperIntermediate.*28"
---

<objective>
Create the three backed string enums that form the type-safe vocabulary for the entire admission scoring domain.

Purpose: Every subsequent phase (Value Objects, DB models, calculators, service, API) imports these enums for type safety and value mapping. They must exist first.
Output: Three PHP enum files in app/Enums/ with correct Hungarian backing values, helper methods, and passing Pint + PHPStan checks.
</objective>

<execution_context>
@/Users/otisz/.claude/get-shit-done/workflows/execute-plan.md
@/Users/otisz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-domain-primitives/01-CONTEXT.md
@.planning/phases/01-domain-primitives/01-RESEARCH.md
@homework_input.php
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SubjectName enum with 13 cases and helper methods</name>
  <files>app/Enums/SubjectName.php</files>
  <action>
Run `php artisan make:enum SubjectName --string --no-interaction` to scaffold, then replace the content with the full enum.

The enum must be `enum SubjectName: string` in namespace `App\Enums` with `declare(strict_types=1)`.

**13 cases (TitleCase English names, accented Hungarian backing values):**
- `HungarianLanguageAndLiterature = 'magyar nyelv és irodalom'`
- `History = 'történelem'`
- `Mathematics = 'matematika'`
- `EnglishLanguage = 'angol nyelv'`
- `GermanLanguage = 'német nyelv'`
- `FrenchLanguage = 'francia nyelv'`
- `ItalianLanguage = 'olasz nyelv'`
- `RussianLanguage = 'orosz nyelv'`
- `SpanishLanguage = 'spanyol nyelv'`
- `Informatics = 'informatika'`
- `Biology = 'biológia'`
- `Physics = 'fizika'`
- `Chemistry = 'kémia'`

**Static helper** `globallyMandatory()`:
- Returns `array<int, self>` (add PHPDoc `@return` annotation for PHPStan level 7)
- Returns `[self::HungarianLanguageAndLiterature, self::History, self::Mathematics]`

**Instance helper** `isLanguage()`:
- Returns `bool`
- Returns `true` for EnglishLanguage, GermanLanguage, FrenchLanguage, ItalianLanguage, RussianLanguage, SpanishLanguage
- Returns `false` for all other cases (including HungarianLanguageAndLiterature — it is a core subject, not a foreign language)
- Use `in_array($this, [...], true)` for strict comparison

IMPORTANT: The backing values come from `homework_input.php` which is the authoritative source. Do NOT use `AngolNyelv` — the correct English case name is `EnglishLanguage` per CONTEXT.md locked decisions.

After creating the file, run `vendor/bin/pint --dirty --format agent` and `./vendor/bin/phpstan analyse app/Enums/SubjectName.php` to verify.
  </action>
  <verify>
    <automated>vendor/bin/pint --dirty --format agent && ./vendor/bin/phpstan analyse app/Enums/SubjectName.php --no-progress</automated>
  </verify>
  <done>SubjectName.php exists with 13 cases, correct Hungarian backing values, globallyMandatory() returning 3 core subjects, isLanguage() returning true for 6 foreign languages. Pint and PHPStan pass.</done>
</task>

<task type="auto">
  <name>Task 2: Create ExamLevel and LanguageCertificateType enums</name>
  <files>app/Enums/ExamLevel.php, app/Enums/LanguageCertificateType.php</files>
  <action>
**ExamLevel enum:**
Run `php artisan make:enum ExamLevel --string --no-interaction` to scaffold, then replace content.

`enum ExamLevel: string` in namespace `App\Enums` with `declare(strict_types=1)`.

Two cases per CONTEXT.md locked decision:
- `Intermediate = 'közép'`
- `Advanced = 'emelt'`

No helper methods needed on this enum.

**LanguageCertificateType enum:**
Run `php artisan make:enum LanguageCertificateType --string --no-interaction` to scaffold, then replace content.

`enum LanguageCertificateType: string` in namespace `App\Enums` with `declare(strict_types=1)`.

Two cases per CONTEXT.md locked decision:
- `UpperIntermediate = 'B2'`
- `Advanced = 'C1'`

Instance method `points()` returning `int`:
```php
public function points(): int
{
    return match ($this) {
        self::UpperIntermediate => 28,
        self::Advanced => 40,
    };
}
```

After creating both files, run `vendor/bin/pint --dirty --format agent` and `./vendor/bin/phpstan analyse app/Enums/ --no-progress` on the entire Enums directory to verify all three files together.
  </action>
  <verify>
    <automated>vendor/bin/pint --dirty --format agent && ./vendor/bin/phpstan analyse app/Enums/ --no-progress</automated>
  </verify>
  <done>ExamLevel.php has Intermediate/Advanced cases with Hungarian backing values. LanguageCertificateType.php has UpperIntermediate/Advanced cases with B2/C1 backing values and points() returning 28/40 respectively. Pint and PHPStan pass on all enum files.</done>
</task>

</tasks>

<verification>
Run these checks to confirm all enums are correct:

1. `./vendor/bin/phpstan analyse app/Enums/ --no-progress` — zero errors at level 7
2. `vendor/bin/pint --test --format agent` — no formatting issues on enum files
3. Quick tinker verification:
   - `App\Enums\SubjectName::cases()` returns 13 cases
   - `App\Enums\SubjectName::from('matematika')` returns SubjectName::Mathematics
   - `App\Enums\SubjectName::globallyMandatory()` returns array of 3 enums
   - `App\Enums\SubjectName::Mathematics->isLanguage()` returns false
   - `App\Enums\SubjectName::EnglishLanguage->isLanguage()` returns true
   - `App\Enums\ExamLevel::from('közép')` returns ExamLevel::Intermediate
   - `App\Enums\ExamLevel::from('emelt')` returns ExamLevel::Advanced
   - `App\Enums\LanguageCertificateType::UpperIntermediate->points()` returns 28
   - `App\Enums\LanguageCertificateType::Advanced->points()` returns 40
</verification>

<success_criteria>
- Three enum files exist in app/Enums/ with correct namespace and declare(strict_types=1)
- SubjectName has exactly 13 cases with accented Hungarian backing values matching homework_input.php
- SubjectName::globallyMandatory() returns the 3 core subjects
- SubjectName::isLanguage() correctly identifies the 6 foreign language subjects
- ExamLevel has Intermediate ('közép') and Advanced ('emelt') cases
- LanguageCertificateType has UpperIntermediate ('B2', 28pts) and Advanced ('C1', 40pts) with working points() method
- PHPStan level 7 passes with zero errors on app/Enums/
- Pint passes with no formatting changes needed
</success_criteria>

<output>
After completion, create `.planning/phases/01-domain-primitives/01-01-SUMMARY.md`
</output>
